<!-- create a quiz with the help of json and html, question should be displayed and it should also show the correct answer at the end, it should show the complete score-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../JQuery/jquery-3.7.1.min.js"></script>
</head>
<body class="">

    <div id="question" class=" bg-gray-50"></div>
    <div class="w-3/4 mx-auto">
        <button id="submit" class="w-full px-6 py-4 bg-blue-600 hover:bg-blue-900 duration-200 rounded-xl shadow mb-24 mt-6 text-3xl font-bold text-white">Finish Test</button>
    </div>

    <script>
        const qns = [
            {
                question: "What porvides styling to HTML element?",
                option: ["HTML", "CSS", "JS", "JQuery"],
                correct: 1
            },
            {
                question: "Which language adds interactivity to web pages?",
                option: ["HTML", "CSS", "JavaScript", "SQL"],
                correct: 2
            },
            {
                question: "Which HTML tag is used to create a hyperlink?",
                option: ["div", "a", "link", "span"],
                correct: 1
            },
            {
                question: "Which CSS property sets the text color?",
                option: ["color", "background-color", "font-size", "font-weight"],
                correct: 0
            },
            {
                question: "Which symbol is commonly used by jQuery to select elements?",
                option: ["@", "$", "#", "&"],
                correct: 1
            }
        ]
        
        const container = document.getElementById('question');

        qns.forEach((q, idx) => {
            const qNum = idx + 1;
            const div = document.createElement('div');
            div.className = 'q-card w-3/4 mx-auto rounded-2xl shadow-2xl bg-white my-8 p-8';
            const h2 = document.createElement('h2');
            h2.textContent = `${qNum}. ${q.question}`;
            div.appendChild(h2);

            q.option.forEach((opt, oi) => {
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = `q${qNum}`;
                input.id = `q${qNum}_opt${oi}`;
                input.value = oi;

                const label = document.createElement('label');
                label.htmlFor = input.id;
                label.textContent = ` ${opt}`;

                const wrap = document.createElement('div');
                wrap.append(input, label);
                div.appendChild(wrap);
            });

            const result = document.createElement('p');
            result.className = 'result';
            div.appendChild(result);

            container.appendChild(div);
        });

        document.getElementById('submit').addEventListener('click', () => {
            let score = 0;
            const cards = document.querySelectorAll('.q-card');

            qns.forEach((q, idx) => {
                const qNum = idx + 1;
                const selected = document.querySelector(`input[name="q${qNum}"]:checked`);
                const resultEl = cards[idx].querySelector('.result');
                const correctText = q.option[q.correct];

                if (selected) {
                    const chosen = Number(selected.value);
                    if (chosen === q.correct) {
                        score++;
                        resultEl.textContent = `Correct — ${correctText}`;
                        resultEl.style.color = 'green';
                    } else {
                        resultEl.textContent = `Wrong — Your answer: ${q.option[chosen]}. Correct: ${correctText}`;
                        resultEl.style.color = 'red';
                    }
                } else {
                    resultEl.textContent = `No answer selected. Correct: ${correctText}`;
                    resultEl.style.color = 'orange';
                }
            });

            alert(`Your score: ${score} / ${qns.length}`);
        });
    </script>
</body>
</html>